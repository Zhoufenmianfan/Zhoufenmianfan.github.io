<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Sidian</title>
  
  
  <link href="https://zhoufenmianfan.github.io/atom.xml" rel="self"/>
  
  <link href="https://zhoufenmianfan.github.io/"/>
  <updated>2024-01-08T12:20:08.080Z</updated>
  <id>https://zhoufenmianfan.github.io/</id>
  
  <author>
    <name>H.Z.Y</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>test</title>
    <link href="https://zhoufenmianfan.github.io/2024/01/08/test/"/>
    <id>https://zhoufenmianfan.github.io/2024/01/08/test/</id>
    <published>2024-01-08T12:19:58.466Z</published>
    <updated>2024-01-08T12:20:08.080Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>æƒ³è¦ï¼šå’Œå°ä¼™ä¼´ä¸€èµ·ç©ã€Šé¥¥è’ã€‹</title>
    <link href="https://zhoufenmianfan.github.io/2024/01/06/Linux%E9%A5%A5%E8%8D%92%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
    <id>https://zhoufenmianfan.github.io/2024/01/06/Linux%E9%A5%A5%E8%8D%92%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/</id>
    <published>2024-01-06T10:14:52.000Z</published>
    <updated>2024-01-08T04:43:20.090Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1ï¸âƒ£å®‰è£…SteamCMD"><a href="#1ï¸âƒ£å®‰è£…SteamCMD" class="headerlink" title="1ï¸âƒ£å®‰è£…SteamCMD"></a>1ï¸âƒ£å®‰è£…SteamCMD</h2><ul><li><p><strong>äº‘æœåŠ¡å™¨</strong>ï¼šå¯ä»¥ä½¿ç”¨ä»»æ„è¿œç¨‹ç»ˆç«¯å·¥å…·è¿æ¥åˆ°è‡ªå·±çš„äº‘æœåŠ¡å™¨ï¼Œè¿™é‡Œç”¨Tabbyåšæ¼”ç¤ºï¼›</p></li><li><p><strong>åˆ›å»ºLinuxç”¨æˆ·</strong>ï¼šç”±äºåœ¨rootç”¨æˆ·ä¸‹å®‰è£…ä¼šæœ‰ä¸€å®šçš„å®‰å…¨é£é™©ï¼Œæ‰€ä»¥å»ºè®®åˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·ï¼Œåœ¨å¦ä¸€ä¸ªç”¨æˆ·ä¸‹å®‰è£…ï¼›</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd -m steam #åˆ›å»ºåä¸ºsteamçš„ç”¨æˆ·</span><br><span class="line">sudo passwd steam #ä¸ºç”¨æˆ·steamè®¾ç½®å¯†ç </span><br><span class="line">sudo -u steam -s #è¿›å…¥steamç”¨æˆ·</span><br></pre></td></tr></table></figure><ul><li><strong>å®‰è£…SteamCMD</strong>ï¼šè¿›å…¥æŒ‡å®šçš„ä¸€ä¸ªç›®å½•ï¼Œä¾‹å¦‚&#x2F;home&#x2F;steamï¼Œè¿™ä¸ªå°±æ˜¯ä½œä¸ºsteamç”¨æˆ·çš„æ ¹ç›®å½•ï¼Œä¸åŒçš„Linuxç³»ç»Ÿç”¨ä¸åŒçš„å®‰è£…æŒ‡ä»¤ï¼›<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install steamcmd #Ubuntu&amp;Debian</span><br><span class="line">yum install steamcmd # CentOS&amp;RedHat</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¦‚æœä¸èƒ½æ­£ç¡®ä¸‹è½½è¯·æ³¨æ„æ˜¯å¦æ˜¯å¯¹åº”çš„åŒ…ç®¡ç†å™¨ç‰ˆæœ¬è¿‡ä½ç­‰é—®é¢˜</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¦‚æœå‡ºç°æƒé™ä¸è¶³çš„é—®é¢˜ï¼Œé‚£ä¹ˆå°±å›åˆ°rootç”¨æˆ·è¿›è¡Œä¸‹è½½</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¹Ÿå¯ä»¥ä¸‹è½½taråŒ…å†è§£å‹çš„åŠæ³•ï¼ˆå®é™…è¿™ä¸ªæ¯”è¾ƒæ–¹ä¾¿ï¼‰</span></span><br><span class="line">wget https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz  </span><br><span class="line">tar -zxvf steamcmd_linux.tar.gz</span><br></pre></td></tr></table></figure></li><li><strong>è¿è¡ŒSteamCMD</strong>ï¼šå‡ºç°å›¾æ‰€ç¤ºSteam&gt;å³ä¸ºæˆåŠŸï¼›<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install glibc.i686 libstdc++.i686 #é¦–å…ˆè¦å‡çº§è¿è¡Œåº“ï¼ŒRedHat/CentOS (x86-64)</span><br><span class="line">./steamcmd.sh #åœ¨è§£å‹å‡ºsteamcmd_tarçš„ç›®å½•ä¸‹è¿è¡Œ</span><br></pre></td></tr></table></figure></li></ul><h2 id="2ï¸âƒ£é¥¥è’æœåŠ¡ç«¯é…ç½®"><a href="#2ï¸âƒ£é¥¥è’æœåŠ¡ç«¯é…ç½®" class="headerlink" title="2ï¸âƒ£é¥¥è’æœåŠ¡ç«¯é…ç½®"></a>2ï¸âƒ£é¥¥è’æœåŠ¡ç«¯é…ç½®</h2><ul><li><p>æ–‡ä»¶è·¯å¾„é…ç½®ï¼šåˆ›å»ºä¸€ä¸ªç”¨äºä¿å­˜é¥¥è’æœåŠ¡å™¨ç«¯çš„æ–‡ä»¶å¤¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">force_install_dir /home/dstserver </span><br></pre></td></tr></table></figure></li><li><p>ä¸‹è½½é¥¥è’ï¼šéœ€è¦å…ˆåŒ¿åç™»å½•steamï¼Œæˆ–è€…ä½¿ç”¨è‡ªå·±çš„ç”¨æˆ·è´¦æˆ·&amp;å¯†ç ç™»å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">login anonymous</span><br><span class="line">app_update 343050 validate #ä¸‹è½½oræ›´æ–°é¥¥è’ï¼ˆå¦‚æœé¥¥è’å®¢æˆ·ç«¯æœ‰æ›´æ–°ï¼ŒåŒæ ·æœåŠ¡ç«¯ä¹Ÿéœ€è¦æ›´æ–°ï¼Œå¦åˆ™æœä¸åˆ°è‡ªå·±çš„æœåŠ¡å™¨å­˜æ¡£ï¼‰</span><br><span class="line">quit #ä¸‹è½½æ›´æ–°å®Œæˆåé€€å‡ºSteamCMD</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨æœåŠ¡ç«¯ï¼šåœ¨æœåŠ¡ç«¯è·¯å¾„è¿è¡Œä¸€æ¬¡å³å¯ç”Ÿæˆå¯¹åº”çš„Worldå­˜æ¡£ï¼ˆæ–¹ä¾¿åç»­ç›´æ¥é€šè¿‡è¦†ç›–é…ç½®æ–‡ä»¶çš„æ–¹å¼æ¥è·å¾—æƒ³è¦çš„é…ç½®çš„å­˜æ¡£ï¼‰ï¼›</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /home/dstserver/bin</span><br><span class="line">./master_start.sh #å¯åŠ¨ä¸»ä¸–ç•Œï¼ŒCtrl+Cå…³é—­</span><br><span class="line">./cave_start.sh #å¯åŠ¨æ´ç©´ä¸–ç•Œï¼ŒCtrl+Cå…³é—­</span><br></pre></td></tr></table></figure><ul><li>è¦†ç›–å­˜æ¡£ï¼šéœ€è¦åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªä¸–ç•Œï¼Œæ³¨æ„æŠŠè‡ªå·±æƒ³è¦çš„Modï¼ˆæœåŠ¡ç«¯Modï¼‰å¼€å¯ï¼ˆè¿™æ ·æ‰èƒ½è‡ªåŠ¨åˆ›å»ºè‡ªå·±éœ€è¦çš„æœåŠ¡ç«¯Modçš„é…ç½®æ–‡ä»¶ï¼Œå½“ç„¶åç»­ä¹Ÿå¯ä»¥è‡ªå·±ä¸»åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥é‡æ–°æ·»åŠ æœåŠ¡ç«¯Modï¼‰ï¼›å°†å­˜æ¡£çš„æ‰€æœ‰æ–‡ä»¶è¦†ç›–æ‰æœåŠ¡å™¨ä¸Šçš„å­˜æ¡£æ–‡ä»¶ï¼›</li><li>è·å–Tokenï¼šç”±äºéœ€è¦ç»‘å®šæœåŠ¡å™¨ä¿¡æ¯ï¼Œå› æ­¤éœ€è¦è·å–æœåŠ¡å™¨Tokenï¼Œä»¥ç¡®å®šè¿™ä¸ªæœåŠ¡å™¨çš„åœ°å€ï¼›åŒæ ·åœ¨é¥¥è’å¯åŠ¨é¦–é¡µç‚¹å‡»ã€è´¦æˆ·ä¿¡æ¯ã€‘è·³è½¬è‡³Kleié¡µé¢ï¼Œç‚¹å‡»æŸ¥çœ‹æˆ‘çš„æ¸¸æˆï¼Œæ‰¾åˆ°å³ä¸Šè§’Donâ€™t Strave Together Serversï¼Œåˆ›å»ºä¸€ä¸ªtokenï¼Œé›†ç¾¤åå­—ä»»æ„ï¼ˆtokenæ˜¯ä¸€ä¸²pds-å¼€å¤´çš„å­—ç¬¦ä¸²ï¼‰ï¼›å¤åˆ¶tokenä¿å­˜ä¸ºä¸€ä¸ªcluster_token.txtæ–‡ä»¶ä¸­ï¼›</li></ul><h2 id="3ï¸âƒ£Modé…ç½®"><a href="#3ï¸âƒ£Modé…ç½®" class="headerlink" title="3ï¸âƒ£Modé…ç½®"></a>3ï¸âƒ£Modé…ç½®</h2><ul><li>é…ç½®æ–‡ä»¶è·¯å¾„ï¼šå¦‚æœæƒ³åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šç»§ç»­æ·»åŠ modå°±éœ€è¦æ›´æ”¹é…ç½®æ–‡ä»¶ï¼Œä¸€å…±æœ‰ä¸¤ä¸ªåœ°æ–¹çš„é…ç½®æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯å­˜æ¡£æ–‡ä»¶å¤¹ä¸‹çš„modoverrides.luaæ–‡ä»¶ï¼ˆæ³¨æ„Masterå’ŒCavesä¸‹å„æœ‰ä¸€ä¸ªåŒæ ·çš„æ–‡ä»¶ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯æœåŠ¡å™¨é…ç½®ä¸­çš„dedicated_server_mods_setup.luaæ–‡ä»¶ï¼›</li><li>Modç¼–å·ï¼šæ¯ä¸€ä¸ªåˆ›æ„å·¥åŠä¸­çš„Modéƒ½æœ‰å”¯ä¸€çš„APPIDï¼Œå¯ä»¥é€šè¿‡åˆ†äº«çš„æ–¹å¼åœ¨é“¾æ¥ä¸­æŸ¥çœ‹ï¼›</li><li>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</li></ul><h2 id="4ï¸âƒ£å¯åŠ¨æ¸¸æˆ"><a href="#4ï¸âƒ£å¯åŠ¨æ¸¸æˆ" class="headerlink" title="4ï¸âƒ£å¯åŠ¨æ¸¸æˆ"></a>4ï¸âƒ£å¯åŠ¨æ¸¸æˆ</h2><ul><li>Screenå‘½ä»¤ï¼šç”±äºæ¸¸æˆéœ€è¦è¿è¡Œä¸¤ä¸ªç¨‹åºï¼Œè€Œä¸€èˆ¬éœ€è¦åå°è¿è¡Œï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨linuxçš„çª—å£screenåŠŸèƒ½ï¼ŒåŸºæœ¬æŒ‡ä»¤å¦‚ä¸‹ï¼›<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">screen -S [NAME] #åˆ›å»ºä¸€ä¸ªåå­—ä¸º[NAME]çš„çª—å£</span><br><span class="line">screen -ls #åˆ—å‡ºçª—å£çš„id.[NAME]</span><br><span class="line">screen -r [id] #å¦‚æœä¸€ä¸ªçª—å£æ˜¯ï¼ˆDeattachedï¼‰çŠ¶æ€ï¼Œå¯ä»¥é‡è¿</span><br><span class="line">screen -d [id] #é€€å‡ºä¸€ä¸ªçª—å£</span><br><span class="line">exit #é€€å‡ºä¸€ä¸ªçª—å£å¹¶å…³é—­æ­¤çª—å£ï¼ˆç›¸åº”çš„è¿›ç¨‹ä¹Ÿä¼šå…³é—­ï¼‰</span><br></pre></td></tr></table></figure></li><li>å¯åŠ¨æ¸¸æˆï¼šåˆ†å¸ƒåœ¨æŒ‡å®šè·¯å¾„ä¸‹åˆ›å»ºä¸¤ä¸ªåå­—ä¸ºmasterå’Œcaveçš„çª—å£ï¼›ç„¶ååœ¨å¯¹åº”çš„çª—å£è¿è¡Œæ¸¸æˆçš„ä¸¤ä¸ªè¿›ç¨‹å³å¯ï¼›æ¸¸æˆæ­£å¸¸å¯åŠ¨ä¼šçœ‹è§æœ‰ç±»ä¼¼Sim Pauseçš„å­—ç¬¦<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd dstsever/bin</span><br><span class="line">screen -S master</span><br><span class="line">./master_start.sh</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯ä»¥ç›´æ¥é€€å‡ºä¸Šè¿°çš„ç»ˆç«¯ï¼Œä¸è¦è¾“å…¥<span class="built_in">exit</span>ï¼Œçª—å£å°±ä¸ä¼šå…³é—­ï¼ˆåªä¼šå¤±å»è¿æ¥ï¼‰ï¼Œè¿›ç¨‹ä¹Ÿä¸ä¼šç»“æŸ</span></span><br><span class="line">cd dstsever/bin</span><br><span class="line">screen -S cave</span><br><span class="line">./cave_start.sh</span><br></pre></td></tr></table></figure></li><li>åŠ å…¥æœåŠ¡å™¨ï¼šç›´æ¥åœ¨æµè§ˆæ¸¸æˆä¸­æœç´¢æˆ¿é—´åå­—å³å¯ï¼›</li></ul>]]></content>
    
    
    <summary type="html">ä½¿ç”¨SteamCMDå¹³å°ä¸Šæ­å»ºé¥¥è’æœåŠ¡å™¨</summary>
    
    
    
    <category term="Tech" scheme="https://zhoufenmianfan.github.io/categories/Tech/"/>
    
    
    <category term="SteamCMD" scheme="https://zhoufenmianfan.github.io/tags/SteamCMD/"/>
    
    <category term="Linux" scheme="https://zhoufenmianfan.github.io/tags/Linux/"/>
    
    <category term="Game" scheme="https://zhoufenmianfan.github.io/tags/Game/"/>
    
  </entry>
  
  <entry>
    <title>æ‡’å¾—ï¼šæ‰‹åŠ¨æ›´æ–°ã€Šé¥¥è’ã€‹æœåŠ¡å™¨ä¸Šçš„æ’ä»¶</title>
    <link href="https://zhoufenmianfan.github.io/2024/01/06/%E9%A5%A5%E8%8D%92%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E6%95%99%E7%A8%8B/"/>
    <id>https://zhoufenmianfan.github.io/2024/01/06/%E9%A5%A5%E8%8D%92%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E6%95%99%E7%A8%8B/</id>
    <published>2024-01-06T10:00:54.000Z</published>
    <updated>2024-01-08T04:43:15.896Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1ï¸âƒ£æ–‡ä»¶æ ‘ç»“æ„"><a href="#1ï¸âƒ£æ–‡ä»¶æ ‘ç»“æ„" class="headerlink" title="1ï¸âƒ£æ–‡ä»¶æ ‘ç»“æ„"></a>1ï¸âƒ£æ–‡ä»¶æ ‘ç»“æ„</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ³¨æ„ä»¥ä¸‹å°±æ˜¯ç»å¯¹è·¯å¾„/steam</span></span><br><span class="line">â””â”€â”€ steam #ï¼ˆç”¨æˆ·ï¼‰æ ¹ç›®å½•</span><br><span class="line">â”œâ”€â”€ common #é¥¥è’æ¸¸æˆå­˜æ¡£æœåŠ¡å™¨ç›¸å…³ç›®å½•</span><br><span class="line">â”‚ â”œâ”€â”€ backup #å¤‡ä»½æ–‡ä»¶å¤¹</span><br><span class="line">â”‚ â”œâ”€â”€ dstsave #å­˜æ¡£ç›®å½•</span><br><span class="line">â”‚ â””â”€â”€ dstserver #æœåŠ¡å™¨ç›®å½•</span><br><span class="line">â”œâ”€â”€ cron_update_starve.sh #å®šæ—¶æ›´æ–°ç¨‹åº</span><br><span class="line">â”œâ”€â”€ steamcmd #steamcmdæœåŠ¡ç›®å½•</span><br><span class="line">â”‚ â”œâ”€â”€ linux32</span><br><span class="line">â”‚ â”œâ”€â”€ linux64</span><br><span class="line">â”‚ â”œâ”€â”€ package</span><br><span class="line">â”‚ â”œâ”€â”€ public</span><br><span class="line">â”‚ â”œâ”€â”€ siteserverui</span><br><span class="line">â”‚ â”œâ”€â”€ steam</span><br><span class="line">â”‚ â”œâ”€â”€ steamcmd_linux.tar.gz</span><br><span class="line">â”‚ â””â”€â”€ steamcmd.sh #steamcmdå¯åŠ¨è„šæœ¬</span><br><span class="line">â”œâ”€â”€ update_starve.cmd #æ›´æ–°é¥¥è’æœåŠ¡ç«¯å‘½ä»¤åº“</span><br><span class="line">â””â”€â”€ update_starve.sh #æ›´æ–°é¥¥è’æœåŠ¡ç«¯è„šæœ¬</span><br></pre></td></tr></table></figure><h2 id="2ï¸âƒ£å®šæ—¶è°ƒåº¦"><a href="#2ï¸âƒ£å®šæ—¶è°ƒåº¦" class="headerlink" title="2ï¸âƒ£å®šæ—¶è°ƒåº¦"></a>2ï¸âƒ£å®šæ—¶è°ƒåº¦</h2><p>ğŸ“Œå¦‚æœæƒ³è¦æœåŠ¡å™¨å®šæœŸæ‰§è¡Œä¸€äº›åˆ—åŠ¨ä½œï¼Œå°±éœ€è¦ä¸€ä¸ªå®šæ—¶å™¨æ¥æŒ‡å®šéœ€è¦æ‰§è¡Œçš„ç¨‹åºè„šæœ¬</p><ul><li><strong>crontab</strong>ï¼šå¯ä»¥åˆ¶å®šä¸€ä¸ªè¿›ç¨‹è¡¨<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">[root@VM-8-6-centos]$ </span><span class="language-bash">crontab -e <span class="comment">#ç¼–è¾‘å½“å‰ç”¨æˆ·çš„æ—¶ç¨‹è¡¨</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VIä¸­ç¼–è¾‘</span></span><br><span class="line">0 2 * * * /steam/cron_update_starve.sh #æ¯å¤©çš„å‡Œæ™¨2ï¼š00æ‰§è¡Œä¸€æ¬¡.sh</span><br></pre></td></tr></table></figure></li><li>å®šæ—¶è°ƒåº¦è„šæœ¬ï¼šcron_update_starve.shä¸­éœ€è¦è£…è½½æ‰§è¡Œä¸€æ¬¡é¥¥è’æœåŠ¡å™¨æ›´æ–°æ—¶éœ€è¦çš„æ‰€æœ‰åŠ¨ä½œï¼ˆæŒ‡ä»¤é›†ï¼‰<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç¬¬ä¸€è¡Œçš„<span class="comment">#ï¼ç¬¦å·è¡¨ç¤ºç”¨äºæŒ‡å®šshellè„šæœ¬çš„è§£é‡Šå™¨æ˜¯ç”¨/bin/bash</span></span></span><br><span class="line">set -e #æŒ‡å®šshellè„šæœ¬çš„å·¥ä½œæ¨¡å¼</span><br><span class="line">/steam/common/dstserver/bin/stop.sh #ç¬¬ä¸€æ­¥ï¼šæ‰§è¡Œåœæœºè„šæœ¬ï¼Œå…³é—­æ­£åœ¨è¿è¡Œçš„é¥¥è’æœåŠ¡ç«¯ï¼Œé¿å…æ•°æ®ä¸¢å¤±</span><br><span class="line">sleep 5 #ä¼‘çœ 5åˆ†é’Ÿ</span><br><span class="line">/steam/update_starve.sh #ç¬¬äºŒæ­¥ï¼šæ‰§è¡Œé¥¥è’æœåŠ¡ç«¯çš„æ›´æ–°è„šæœ¬</span><br><span class="line">/steam/common/dstserver/bin/start.sh #ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œé¥¥è’æœåŠ¡ç«¯çš„å¯åŠ¨è„šæœ¬</span><br></pre></td></tr></table></figure></li></ul><h2 id="3ï¸âƒ£é¥¥è’æœåŠ¡ç«¯æ›´æ–°"><a href="#3ï¸âƒ£é¥¥è’æœåŠ¡ç«¯æ›´æ–°" class="headerlink" title="3ï¸âƒ£é¥¥è’æœåŠ¡ç«¯æ›´æ–°"></a>3ï¸âƒ£é¥¥è’æœåŠ¡ç«¯æ›´æ–°</h2><ul><li>åœæœºè„šæœ¬ï¼šstop.sh å…³é—­æ­£åœ¨è¿è¡Œçš„é¥¥è’æœåŠ¡ç«¯ï¼Œé¿å…æ•°æ®ä¸¢å¤±ï¼›<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">pids=$(ps aux | grep dontstarve | awk -v OFS=&#x27;,&#x27; &#x27;&#123;print $2,$11&#125;&#x27;) #è·å–è¿›ç¨‹çš„PID</span><br><span class="line">array=($&#123;pids// / &#125;)</span><br><span class="line">for var in $&#123;array[@]&#125;</span><br><span class="line">do</span><br><span class="line">Â  Â  item=($&#123;var//,/ &#125;)</span><br><span class="line">Â  Â  result=`echo $&#123;item[1]&#125; | grep dontstarve`</span><br><span class="line">Â  Â  if [[ &quot;$result&quot; != &quot;&quot; ]]</span><br><span class="line">Â  Â  then</span><br><span class="line">Â  Â  Â  Â  Â  rs=$(kill -9 $&#123;item[0]&#125;)</span><br><span class="line">Â  Â  fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li><li>æ›´æ–°è„šæœ¬ï¼šupdate_starve.sh æ›´æ–°é¥¥è’æœåŠ¡ç«¯ï¼›<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">/steam/steamcmd/steamcmd.sh &lt; /steam/update_starve.cmd #å°†.cmdæŒ‡ä»¤é›†ä¸­çš„æŒ‡ä»¤é‡å®šå‘åˆ°ä½¿ç”¨SteamCMDå‘½ä»¤è¡Œæ‰“å¼€åæ‰§è¡Œ</span><br></pre></td></tr></table></figure><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">force_install_dir /steam/common/dstserver <span class="comment">#SteamCMDå‘½ä»¤è¡Œä¸­å¼ºåˆ¶å®‰è£…åœ¨æŒ‡å®šç›®å½•æŒ‡ä»¤</span></span><br><span class="line">login anonymous <span class="comment">#åŒ¿åç™»å½•</span></span><br><span class="line">app_update <span class="number">343050</span> validate <span class="comment">#æ›´æ–°é¥¥è’ï¼ˆåœ¨steamä¸­ä»£ç ä¸º343050ï¼‰</span></span><br><span class="line">quit <span class="comment">#é€€å‡ºSteamCMD</span></span><br></pre></td></tr></table></figure></li><li>å¯åŠ¨è„šæœ¬ï¼šstart.sh é‡æ–°å¯åŠ¨é¥¥è’æœåŠ¡ç«¯ï¼›</li></ul><pre><code class="shell">#!/bin/bashset -eSCRIPT_DIR=&quot;$( cd &quot;$( dirname &quot;$&#123;BASH_SOURCE[0]&#125;&quot; )&quot; &amp;&amp; pwd )&quot;cd $SCRIPT_DIRnohup ./start_master.sh Â &gt;/dev/null 2&gt;&amp;1 &amp;nohup ./start_cave.sh Â  Â &gt;/dev/null 2&gt;&amp;1 &amp;</code></pre>]]></content>
    
    
    <summary type="html">ä¸ºé¥¥è’æœåŠ¡å™¨æ·»åŠ è‡ªåŠ¨æ›´æ–°æœåŠ¡ç«¯æ’ä»¶è„šæœ¬</summary>
    
    
    
    <category term="Tech" scheme="https://zhoufenmianfan.github.io/categories/Tech/"/>
    
    
    <category term="SteamCMD" scheme="https://zhoufenmianfan.github.io/tags/SteamCMD/"/>
    
    <category term="Linux" scheme="https://zhoufenmianfan.github.io/tags/Linux/"/>
    
    <category term="Game" scheme="https://zhoufenmianfan.github.io/tags/Game/"/>
    
  </entry>
  
</feed>
